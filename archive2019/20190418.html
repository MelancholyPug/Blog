<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script src="/_resource/js/_js_initialLoadFiles.min.js"></script>
</head>
<body>

  <h1>選擇或取消ASP.NET WebAPI的JSON、XML輸出格式</h1>

  <p>ASP.NET WebAPI支援XML、JSON兩種輸出格式，在這個JSON氾濫的年代XML顯然已經不討喜，這篇廢文就是教你怎麼關掉XML的回應。</p>

  <h3>ASP.NET WebAPI選擇輸出格式的方法</h3>
  <p>1. 使用XML輸出</p>
  <p>在HTTP Request中送出下列指令，就可以得到XML回應資料。</p>
<pre>
Accept: "application/xml"
</pre>

  <p>2. 使用JSON輸出</p>
  <p>在HTTP Request中送出下列指令，就可以得到JSON回應資料。</p>
<pre>
Accept: "application/json"
</pre>

  <h3>取消ASP.NET WebAPI某種輸出格式的方法</h3>
  <p>基本上都是關掉XML啦，下面我還是都把兩個範例寫出來。基本上如果你兩個格式都關閉的話，ASP.NET WebAPI會採用「檔案輸出」的方式餵資料給你，也是蠻妙的。</p>
<pre>
void Application_Start(object sender, EventArgs e)
{
  //關閉XML回應格式
  GlobalConfiguration.Configuration.Formatters.XmlFormatter.SupportedMediaTypes.Clear();
  //關閉JSON回應格式（你不是真的想這樣做吧？）
  //GlobalConfiguration.Configuration.Formatters.JsonFormatter.SupportedMediaTypes.Clear();
}
</pre>

  <small>ASP.NET WebAPI ResponseMode ResponseFormat JSON XML Files</small>

</body>
</html>